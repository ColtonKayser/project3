<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="ParkApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js" charset="utf-8"></script>
    <script src="/js/app.js" charset="utf-8"></script>
  </head>
  <body ng-controller="MainController as ctrl">
    <h1>National Parks</h1>
    <h5>CHOOSE A STATE</h5>
    <!-- have to loop through response data -->
    <form ng-submit="ctrl.getParks()">
      <input type="text" ng-model="ctrl.state" placeholder="ex: NY"/>
      <input type="submit" value="FIND PARKS"/>
    </form>
    <!-- DISPLAY PARK NAMES -->
    <ul>
    <li ng-repeat="park in ctrl.parksData">

        <h4 ng-click="ctrl.togglePark()">
        {{park.fullName}}
        <a
          href="#"
          ng-if="$index !== ctrl.indexOfParkToShow"
          ng-click="ctrl.indexOfParkToShow = $index">
            Show This Park's Info
        </a>
        </h4>
        <div
        ng-if="$index === ctrl.indexOfParkToShow"
        ng-show="ctrl.showInfo">
        {{park.designation}} <br/>
        {{park.description}} <br/>
        {{park.url}} <br/>
        <!-- <button ng-click="ctrl.toggleInfo()"
        ng-show="ctrl.showInfo"
        >Hide Info</button> -->
       </div>

      </li>
  </ul>
  <!-- Note form -->
  <Park Form>
  <form ng-submit="ctrl.createUserPark()">
    <input type="text" ng-model="ctrl.createForm.name" placeholder="Name" />
    <input type="text" ng-model="ctrl.createForm.designation" placeholder="Designation"/>
    <input type="text" ng-model="ctrl.createForm.description" placeholder="Description"/>
    <input type="text" ng-model="ctrl.createForm.url" placeholder="Park URL"/>
    Visited: <input type="checkbox" ng-model="ctrl.createForm.visited"/>
    <input type="text" ng-model="ctrl.createForm.notes" placeholder="Notes" />
    <input type="submit" value="Create Park" />
  </form>
  <h1>User Parks</h1>
  <ul>
    <li ng-repeat="userPark in ctrl.userParks">
      Name: {{userPark.name}},
      Designation: {{userPark.designation}},
      Description: {{userPark.description}},
      Website: <span><a href="{{userPark.url}}">{{userPark.url}}</a></span>,
      Visited: {{userPark.visited}},
      Additional Notes: {{userPark.notes}}
      <!-- DELETE -->
      <button ng-click="ctrl.deleteUserPark(userPark)">Delete</button>
      <!-- EDIT bug NEEDS FIXING -->
      <form ng-submit="ctrl.editUserPark(userPark)">
        <input type="text" ng-model="ctrl.updatedName" placeholder="Name"/>
        <input type="text" ng-model="ctrl.updatedDesignation" placeholder="Designation"/>
        <input type="text" ng-model="ctrl.updatedDescription" placeholder="Description">
        <input type="text" ng-model="ctrl.updatedUrl" placeholder="URL"/>
        Visited: <input type="checkbox" ng-model="ctrl.updatedVisited"/>
        <input type="text" ng-model="ctrl.updatedNotes" placeholder="Notes">
        <input type="submit" name="" value="Update Park">
      </form>
    </li>
  </ul>
  </body>
</html>
