<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="ParkApp">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="/css/skeleton.css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js" charset="utf-8"></script>
    <script src="/js/app.js" charset="utf-8"></script>
  </head>
  <body ng-controller="MainController as ctrl">
    <!-- HEADER -->
    <header>
      <h1>U.S. National Parks Tracker</h1>
    </header>

    <!-- NAVIGATION -->
    <!-- <div ng-controller="PartialsController as ctrl">
      <nav ng-include="'partials/navigation'">
      </nav>
    </div> -->

    <!-- skeleton container starts here -->
    <div class="container">
      <!-- find park by state -->
      <h6>Find Park By State</h6>
      <div class="section find-park-by-state">
        <form ng-submit="ctrl.getParks()">
          <input type="text" ng-model="ctrl.state" placeholder="ex: NY"/>
          <input class="button button-primary" type="submit" value="FIND PARKS"/>
        </form>
      </div>
      <!-- DISPLAY PARK NAMES -->
      <ul class="apiParkList">
        <li class="park" ng-repeat="park in ctrl.parksData">
          <!-- park name -->
          <h5
            ng-click="ctrl.togglePark()">
            {{park.fullName}}
          </h5>
          <!-- <br/> -->
          <!-- show park info a tag -->
          <a
            href="#"
            ng-if="$index !== ctrl.indexOfParkToShow"
            ng-click="ctrl.indexOfParkToShow = $index"
            >
            Show This Park's Info
          </a>
          <br/>
          <!-- save this park -->
          <button class="button-primary save-btn" ng-click="ctrl.addToUserPark(park)">Save</button>
          <!-- </h6> -->
          <div
            ng-if="$index === ctrl.indexOfParkToShow"
            ng-show="ctrl.showInfo"
            class="show-info"
          >
            <h6>{{park.designation}}</h6>
            <p>{{park.description}}</p>
            <a href="{{park.url}}">{{park.url}}</a>
            <!-- <button ng-click="ctrl.toggleInfo()"
            ng-show="ctrl.showInfo"
            >Hide Info</button> -->
          </div>
        </li>
      </ul>
      <hr>
    <!-- CREATE PARK -->
    <h6>create park</h6>
    <Park Form>
    <form ng-submit="ctrl.createUserPark()">
      <input type="text" ng-model="ctrl.createForm.name" placeholder="Name" />
      <input type="text" ng-model="ctrl.createForm.designation" placeholder="Designation"/>
      <input type="text" ng-model="ctrl.createForm.description" placeholder="Description"/>
      <input type="text" ng-model="ctrl.createForm.url" placeholder="Park URL"/>
      Visited: <input type="checkbox" ng-model="ctrl.createForm.visited"/>
      <input type="text" ng-model="ctrl.createForm.notes" placeholder="Notes" />
      <input type="submit" value="Create Park" />
    </form>
    <!-- User Saved Parks -->
    <h1>User Parks</h1>
    <ul class="userParkList">
      <li class="userPark" ng-repeat="userPark in ctrl.userParks">
        Name: {{userPark.name}} <br/>
        Designation: {{userPark.designation}} <br/>
        Description: {{userPark.description}} <br/>
        Website: <span><a href="{{userPark.url}}">{{userPark.url}}</a></span> <br/>
        Visited: {{userPark.visited}} <br/>
        Additional Notes: {{userPark.notes}} <br/>
        <!-- DELETE -->
        <button ng-click="ctrl.deleteUserPark(userPark)">Delete</button>
        <!-- EDIT bug NEEDS FIXING -->
        <form ng-submit="ctrl.editUserPark(userPark)">
          <input type="text" ng-model="ctrl.updatedName" placeholder="Name"/>
          <input type="text" ng-model="ctrl.updatedDesignation" placeholder="Designation"/>
          <input type="text" ng-model="ctrl.updatedDescription" placeholder="Description">
          <input type="text" ng-model="ctrl.updatedUrl" placeholder="URL"/>
          Visited: <input type="checkbox" ng-model="ctrl.updatedVisited"/>
          <input type="text" ng-model="ctrl.updatedNotes" placeholder="Notes">
          <input type="submit" name="" value="Update Park">
        </form>
      </li>
    </ul>
  </div>
  </body>
</html>
